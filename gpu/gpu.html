<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gpu计算</title>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/gpu.js@latest/dist/gpu-browser.min.js">
  </script>
  <script>
    //此库主要用于矩阵计算
    const gpu = new GPU()

    const kernel = gpu.createKernel(function () {
      const i = 1;
      const j = 0.89;
      return i + j;
    }).setOutput([1]);

    const kernel2 = gpu.createKernel(function () {
      return 6;
    }).setOutput([1]);

    //如果是2个二维数组相乘

    const multiplyMatrix = gpu.createKernel(function (a, b) {
      let sum = 0;
      for (let i = 0; i < 512; i++) {
        sum += a[this.thread.y][i] * b[i][this.thread.x];
      }
      return sum;
    }).setOutput([512, 512]);

    const c = multiplyMatrix([[1]], [[2]]);


    console.log(c)


    //调试
    const kernel66 = gpu.createKernel(function (a) {
      debugger
      return a;
    }).setOutput([1]);

    console.log(kernel66(1))
  </script>
</body>

</html>